<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors Game</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Rock/Paper/Scissors Game</h1>
    <button id="Rock">Rock</button>
    <button id="Paper">Paper</button>
    <button id="Scissors">Scissors</button>
    <div id="message">Game status will go here</div>
    
    <script>

function getWinMessage(winThing, loseThing) {
          return `You win. ${winThing} beats ${loseThing}.`;
       }

       function getLoseMessage(winThing, loseThing) {
           return `You lose. ${winThing} beats ${loseThing}.`;
       }

function getMessage(playerSelection, computerSelection) {
          let result;
          console.log(`Computer chose ${computerSelection}.`);
          if (playerSelection === computerSelection) {
            return `Tie! Both chose ${playerSelection}.`;
          }
          switch (computerSelection) {
            case 'Rock':
                if (playerSelection === 'Paper') {
                    return getWinMessage(playerSelection, computerSelection);
                } else {  // player chose Scissors, already checked for Rock
                    return getLoseMessage(computerSelection, playerSelection);
                }
            case 'Paper':
                if (playerSelection === 'Scissors') {
                    return getWinMessage(playerSelection, computerSelection);
                } else {  // player chose Rock
                    return getLoseMessage(computerSelection, playerSelection);
                }
            case 'Scissors':
                if (playerSelection === 'Rock') {
                    return getWinMessage(playerSelection, computerSelection);
                } else { // player chose Paper
                    return getLoseMessage(computerSelection, playerSelection);
                }
            }

        return "default result - coding in progress"; // This line was to print an answer
                                                      // when all options had not yet been coded
        }  // end of getMessage function

function getComputerChoice() {
         
        let choiceIndex = Math.floor(Math.random()*3);
        if (choiceIndex === 0) {
            return 'Rock';
        } else if (choiceIndex === 1) {
            return 'Paper';
        }  return 'Scissors';
       }

        function playRound(e) {
            console.log(e.target.id);
            let computerSelection = getComputerChoice();
            let playerSelection = e.target.id;
            message.innerText = getMessage(playerSelection, computerSelection);
        }

        const buttons = document.querySelectorAll('button');
        const message = document.getElementById('message');
        buttons.forEach(button => addEventListener('click', playRound));
        /* 
        Notes and planning
        Comment out old code and add back as needed       
 
        */

        // define functions

       /*
       function getComputerChoice() {
         // randomly choose 0, 1, or 2
         // assign rock if 0, paper if 1, scissors if 2
        let choiceIndex = Math.floor(Math.random()*3);
        if (choiceIndex === 0) {
            return 'Rock';
        } else if (choiceIndex === 1) {
            return 'Paper';
        }  return 'Scissors';
       }

       let capitalize = (str1) => {  // I copied the arrow format from a previous exercise
            if (str1 === null) {
                return null; // added checks for null so exit is not forced by error
            }
            let slice1 = str1.slice(0, 1).toUpperCase(); // first lettter upper case
            let slice2 = str1.slice(1).toLowerCase();  // other letters lower case
            return slice1 + slice2;
        }
       
       function getPlayerChoice() {
        let valid = false; // assumes bad answer
       while (!valid) { // keeps looping until good answer or cancel entered
        let choice = capitalize(prompt("Rock, Paper, or Scissors? (Cancel button to exit)"));
        if (choice === null) {
            return null;
        }
        if (choice === 'Rock' || choice === 'Paper' || choice === 'Scissors') {
            return choice;
        }
       }; // end of while loop
       }  // end of getPlayerChoice

       function getWinMessage(winThing, loseThing) {
          return `You win. ${winThing} beats ${loseThing}.`;
       }

       function getLoseMessage(winThing, loseThing) {
           return `You lose. ${winThing} beats ${loseThing}.`;
       }


       function getMessage(playerSelection, computerSelection) {
          let result;
          console.log(`Computer chose ${computerSelection}.`);
          if (playerSelection === computerSelection) {
            return `Tie! Both chose ${playerSelection}.`;
          }
          switch (computerSelection) {
            case 'Rock':
                if (playerSelection === 'Paper') {
                    return getWinMessage(playerSelection, computerSelection);
                } else {  // player chose Scissors, already checked for Rock
                    return getLoseMessage(computerSelection, playerSelection);
                }
            case 'Paper':
                if (playerSelection === 'Scissors') {
                    return getWinMessage(playerSelection, computerSelection);
                } else {  // player chose Rock
                    return getLoseMessage(computerSelection, playerSelection);
                }
            case 'Scissors':
                if (playerSelection === 'Rock') {
                    return getWinMessage(playerSelection, computerSelection);
                } else { // player chose Paper
                    return getLoseMessage(computerSelection, playerSelection);
                }
            }

        return "default result - coding in progress"; // This line was to print an answer
                                                      // when all options had not yet been coded
        }  // end of playRound function
                  
        function game() {
            let playerScore = 0;
            let computerScore = 0;
            // begin loop here
            for (let i = 0; i < 5; i++) {
                console.log(`\nRound ${i + 1}`); // loops 0 to 4, says round 1 to 5
            let playerSelection = getPlayerChoice();
            if (playerSelection === null) {
                console.log("User chose to exit.");
                return;
            }
            let computerSelection = getComputerChoice();
            roundResult = playRound(playerSelection, computerSelection);
            console.log(roundResult);
            if (roundResult.includes("win")) {
                playerScore++;
            } else if (roundResult.includes("lose")) {
                computerScore++;
            }
            // end loop here
           };
            console.log("\nFinal results!");
            console.log(`Your score = ${playerScore}. Computer score = ${computerScore}.`);
        }  // end of game function
        // end of function definitions

        // announce game, give instructions, play game
        alert("Welcome to Rock, Paper, Scissors. There will be 5 rounds.");
        alert("\"Cancel\" out of the first game, then right click and choose \"Inspect\" to view output in the console panel.");
        game();
        */
       
    </script>
</body>
</html>